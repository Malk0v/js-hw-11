var cars=["Astra","Octavia","Vectra","Golf","Sephia","Megane","Dvenashka"],refs={startBtn:document.querySelector(".js-race-btn"),winnerField:document.querySelector(".winner"),progressField:document.querySelector(".progress"),tableBody:document.querySelector(".js-results-table > tbody")},raceCounter=0;function updateWinnerField(e){refs.winnerField.textContent=e}function updateProgressField(e){refs.progressField.textContent=e}function updateResultsTable(e){var t=e.car,r=e.time,n=e.raceCounter,a="<tr><td>".concat(n,"</td> <td>").concat(t,"</td><td>").concat(r,"</td></tr>");refs.tableBody.insertAdjacentHTML("beforeend",a)}function run(e){return new Promise((function(t,r){var n=getRandomTime(2e3,3500);setTimeout((function(){t({car:e,time:n})}),n)}))}function getRandomTime(e,t){return Math.floor(Math.random()*(t-e+1)+e)}refs.startBtn.addEventListener("click",(function(){var e=cars.map(run);raceCounter+=1,refs.winnerField.textContent="",refs.progressField.textContent=" 🏁 Заезд начался!",Promise.race(e).then((function(e){var t=e.car,r=e.time;updateWinnerField("💥 Победил ".concat(t,", финишировав за ").concat(r," времени")),updateResultsTable({car:t,time:r,raceCounter:raceCounter})})),Promise.all(e).then((function(){updateProgressField("Заезд окончен")}))}));
//# sourceMappingURL=05-race.25816884.js.map
